{% extends 'base.html' %}
{% load static %}

{% block title %}मुख्य पृष्ठ - प्रांतीय युवा प्रकोष्ठ उत्तर प्रदेश{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/home.css' %}">
{% endblock %}

{% block content %}

<!-- Hero Section with Enhanced Design -->
<section class="hero-section" data-aos="fade-down">
    <div class="hero-background">
        <div class="hero-pattern"></div>
        <div class="hero-gradient"></div>
    </div>
    
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6" data-aos="fade-right" data-aos-delay="200">
                <div class="hero-content">
                    <!-- Badge -->
                    <div class="hero-badge-wrapper mb-4">
                        <span class="hero-badge">
                            <i class="bi bi-lightning-charge-fill"></i>
                            <span>युवा शक्ति</span>
                        </span>
                    </div>
                    
                    <!-- Main Title -->
                    <h1 class="hero-title mb-4">
                        <span class="title-line">प्रांतीय युवा प्रकोष्ठ</span>
                        <span class="title-highlight">उत्तर प्रदेश</span>
                    </h1>
                    
                    <!-- Description -->
                    <p class="hero-description mb-4">
                        <i class="bi bi-people-fill text-success me-2"></i>
                        युवाओं के सशक्तिकरण, शिक्षा और समाजसेवा के लिए समर्पित संगठन।
                        <br>
                        <i class="bi bi-arrow-up-right-circle-fill text-primary me-2"></i>
                        हमारे साथ जुड़ें और उत्तर प्रदेश के विकास में योगदान दें।
                    </p>
                    
                    <!-- CTA Buttons -->
                    <div class="hero-buttons mb-4">
                        <a href="{% url 'events:register' %}" class="btn btn-hero-primary">
                            <i class="bi bi-person-plus-fill me-2"></i>अभी जुड़ें
                            <span class="btn-arrow">→</span>
                        </a>
                        <a href="{% url 'core:about' %}" class="btn btn-hero-secondary">
                            <i class="bi bi-info-circle-fill me-2"></i>और जानें
                        </a>
                    </div>
                    
                    <!-- Social Links -->
                    <div class="hero-social">
                        <span class="social-label">हमसे जुड़ें:</span>
                        <a href="#" class="hero-social-link">
                            <i class="bi bi-facebook"></i>
                        </a>
                        <a href="#" class="hero-social-link">
                            <i class="bi bi-instagram"></i>
                        </a>
                        <a href="#" class="hero-social-link">
                            <i class="bi bi-twitter-x"></i>
                        </a>
                        <a href="#" class="hero-social-link">
                            <i class="bi bi-youtube"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6" data-aos="fade-left" data-aos-delay="400">
                <div class="hero-banner-section">
                    {% if banners %}
                    <div id="heroBannerCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="4000">
                        <div class="carousel-inner">
                            {% for banner in banners %}
                            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                <div class="banner-wrapper">
                                    {% if banner.link %}
                                        <a href="{{ banner.link }}" class="banner-link">
                                            <img src="{{ banner.image.url }}" class="banner-image" alt="{{ banner.title }}">
                                        </a>
                                    {% else %}
                                        <img src="{{ banner.image.url }}" class="banner-image" alt="{{ banner.title }}">
                                    {% endif %}
                                    <div class="banner-overlay">
                                        <h5 class="banner-title">{{ banner.title }}</h5>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        
                        {% if banners|length > 1 %}
                        <!-- Carousel Controls -->
                        <button class="carousel-control-prev" type="button" data-bs-target="#heroBannerCarousel" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#heroBannerCarousel" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                        
                        <!-- Indicators -->
                        <div class="carousel-indicators">
                            {% for banner in banners %}
                            <button type="button" data-bs-target="#heroBannerCarousel" data-bs-slide-to="{{ forloop.counter0 }}" 
                                    {% if forloop.first %}class="active" aria-current="true"{% endif %} 
                                    aria-label="Slide {{ forloop.counter }}"></button>
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                    {% else %}
                    <!-- Default content when no banners -->
                    <div class="hero-image-section">
                        <div class="hero-image-wrapper">
                            <img src="{% static 'images/youth.svg' %}" alt="Youth Illustration" class="hero-image">
                            <div class="hero-image-glow"></div>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured News Section -->
{% if featured_news %}
<section class="featured-news-section py-5" data-aos="fade-up">
    <div class="container">
        <div class="section-header text-center mb-5">
            <div class="section-badge">
                <i class="fas fa-star text-warning me-2"></i>
                <span>Featured</span>
            </div>
            <h2 class="section-title">मुख्य समाचार</h2>
            <p class="section-subtitle">हमारी नवीनतम गतिविधियां और महत्वपूर्ण अपडेट्स</p>
        </div>
        
        <div class="row g-4">
            {% for news in featured_news %}
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'1' }}00">
                <article class="news-card modern-card">
                    <!-- Image Section -->
                    {% if news.images.first %}
                        <div class="news-image-wrapper">
                            <img src="{{ news.images.first.image.url }}" class="news-image" alt="{{ news.title }}">
                            <div class="image-overlay">
                                <div class="overlay-content">
                                    <i class="bi bi-eye-fill"></i>
                                    <span>{{ news.views_count }}</span>
                                </div>
                            </div>
                        </div>
                    {% endif %}
                    
                    <!-- Content Section -->
                    <div class="news-content">
                        <!-- Meta Info -->
                        <div class="news-meta">
                            <span class="badge news-category">{{ news.category.name }}</span>
                            <span class="news-date">
                                <i class="bi bi-calendar3 me-1"></i>
                                {{ news.date_posted|date:"d M Y" }}
                            </span>
                        </div>
                        
                        <!-- Title -->
                        <h3 class="news-title">
                            <a href="{% url 'news:detail' news.pk %}">{{ news.title }}</a>
                        </h3>
                        
                        <!-- Summary -->
                        <p class="news-summary">{{ news.summary|truncatewords:20|safe }}</p>
                        
                        <!-- Footer -->
                        <div class="news-footer">
                            <div class="news-stats">
                                <span class="stat-item">
                                    <i class="bi bi-eye-fill"></i>
                                    {{ news.views_count }}
                                </span>
                                <span class="stat-item">
                                    <i class="bi bi-heart-fill"></i>
                                    {{ news.likes_count }}
                                </span>
                            </div>
                            <a href="{% url 'news:detail' news.pk %}" class="btn btn-read-more">
                                पढ़ें <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </article>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'news:list' %}" class="btn btn-view-all">
                सभी समाचार देखें <i class="bi bi-arrow-right-circle ms-2"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Statistics Section -->
<section class="stats-section py-5" data-aos="zoom-in-up">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                    <div class="stat-icon users-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" data-count="5000">0</h3>
                        <p class="stat-label">सक्रिय सदस्य</p>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                    <div class="stat-icon events-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" data-count="150">0</h3>
                        <p class="stat-label">आयोजित कार्यक्रम</p>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                    <div class="stat-icon districts-icon">
                        <i class="fas fa-map-marked-alt"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" data-count="38">0</h3>
                        <p class="stat-label">जिले कवर</p>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6">
                <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
                    <div class="stat-icon projects-icon">
                        <i class="fas fa-hand-holding-heart"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" data-count="100">0</h3>
                        <p class="stat-label">समाजसेवा परियोजनाएं</p>
                    </div>
                    <div class="stat-decoration"></div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Upcoming Events Section -->
{% if upcoming_events %}
<section class="events-section py-5" data-aos="fade-left">
    <div class="container">
        <div class="section-header text-center mb-5">
            <div class="section-badge">
                <i class="fas fa-calendar-alt text-success me-2"></i>
                <span>Events</span>
            </div>
            <h2 class="section-title">आगामी कार्यक्रम</h2>
            <p class="section-subtitle">आने वाले कार्यक्रमों में भाग लें और अपना योगदान दें</p>
        </div>
        
        <div class="row g-4">
            {% for event in upcoming_events %}
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'1' }}00">
                <div class="event-card modern-card">
                    <!-- Header -->
                    <div class="event-header">
                        <div class="event-date-badge">
                            <div class="date-day">{{ event.event_date|date:"d" }}</div>
                            <div class="date-month">{{ event.event_date|date:"M" }}</div>
                        </div>
                        <div class="event-meta">
                            <span class="badge event-category">{{ event.category.name }}</span>
                            <span class="event-district">
                                <i class="bi bi-geo-alt-fill"></i>
                                {{ event.district.name }}
                            </span>
                        </div>
                    </div>
                    
                    <!-- Content -->
                    <div class="event-content">
                        <h3 class="event-title">
                            <a href="{% url 'events:detail' event.pk %}">{{ event.title }}</a>
                        </h3>
                        <p class="event-description">{{ event.description|truncatewords:15|striptags }}</p>
                        
                        <!-- Event Details -->
                        <div class="event-details">
                            <div class="detail-item">
                                <i class="bi bi-clock-fill"></i>
                                <span>{{ event.event_date|time:"H:i" }}</span>
                            </div>
                            <div class="detail-item">
                                <i class="bi bi-geo-alt-fill"></i>
                                <span>{{ event.venue }}</span>
                            </div>
                            {% if event.registration_fee > 0 %}
                            <div class="detail-item">
                                <i class="bi bi-currency-rupee"></i>
                                <span>₹{{ event.registration_fee }}</span>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <!-- Footer -->
                    <div class="event-footer">
                        {% if event.available_spots %}
                            <div class="spots-available">
                                <i class="bi bi-people-fill"></i>
                                <span>{{ event.available_spots }} स्थान उपलब्ध</span>
                            </div>
                        {% endif %}
                        <a href="{% url 'events:detail' event.pk %}" class="btn btn-event-detail">
                            विवरण देखें <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{% url 'events:list' %}" class="btn btn-view-all">
                सभी गतिविधियां देखें <i class="bi bi-arrow-right-circle ms-2"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Call to Action Section -->
<section class="cta-section py-5" data-aos="fade-up">
    <div class="cta-background">
        <div class="cta-pattern"></div>
    </div>
    <div class="container text-center">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="cta-content">
                    <h2 class="cta-title mb-4">हमारे साथ जुड़ें और बदलाव का हिस्सा बनें</h2>
                    <p class="cta-description mb-4">
                        प्रांतीय युवा प्रकोष्ठ उत्तर प्रदेश के साथ जुड़कर समाज सेवा और युवा सशक्तिकरण में योगदान दें।
                        आइए मिलकर एक बेहतर समाज का निर्माण करें।
                    </p>
                    <div class="cta-buttons">
                        <a href="{% url 'events:register' %}" class="btn btn-cta-primary">
                            <i class="bi bi-person-plus-fill me-2"></i>सदस्यता लें
                        </a>
                        <a href="{% url 'contact:contact' %}" class="btn btn-cta-secondary">
                            <i class="bi bi-envelope-fill me-2"></i>संपर्क करें
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
    // Animated Counter for Statistics
    function animateCounter() {
        const counters = document.querySelectorAll('.stat-number[data-count]');
        const speed = 200; // Animation speed
        
        counters.forEach(counter => {
            const target = +counter.getAttribute('data-count');
            const increment = target / speed;
            let count = 0;
            
            const updateCount = () => {
                if (count < target) {
                    count += increment;
                    counter.innerText = Math.ceil(count) + '+';
                    setTimeout(updateCount, 10);
                } else {
                    counter.innerText = target + '+';
                }
            };
            
            // Start animation when element is visible
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        updateCount();
                        observer.unobserve(entry.target);
                    }
                });
            });
            
            observer.observe(counter);
        });
    }
    
    // Initialize counter animation
    document.addEventListener('DOMContentLoaded', animateCounter);
</script>
{% endblock %}
